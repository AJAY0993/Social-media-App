import{u as f,v as t,N as i,a1 as m,a2 as j,a3 as g,j as e,B as v}from"./index-BzvtiaCt.js";const x="_container_yedin_1",y="_myVid_yedin_13",c={container:x,myVid:y},h=navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;function C(){const r=f(),l=t.useRef(null),a=t.useRef(null),s=i(m),u=i(j),{remoteStream:o}=g(),d=()=>{u.close(),alert("You rejected the call"),r("/")};return t.useEffect(()=>{s||r("/"),s&&h({video:!0,audio:!0}).then(n=>{l.current.srcObject=n}).catch(n=>console.log(n))},[]),t.useEffect(()=>{a.current!==null&&(a.current.srcObject=o)},[o]),s?e.jsx("section",{children:e.jsxs("div",{className:c.container,id:"uiui",children:[e.jsx("video",{className:c.localVid,autoPlay:!0,playsInline:!0,ref:l}),e.jsx("video",{className:c.remoteVid+"flex a-center j-center",autoPlay:!0,playsInline:!0,ref:a}),e.jsx(v,{type:"danger",onClick:d,children:"Cut"})]})}):e.jsx("h3",{children:"Not on a call"})}export{C as default};
