import{a as l,c as w,_ as c,l as g,g as u,d as f,j as s,E as d,B as P,F as x}from"./index-B3tnE4R3.js";import{v as h}from"./validators-DuhDfRqZ.js";import{r as b}from"./authApi-DMcg74op.js";import"./isValidEmail-D0JiuvvC.js";const j="_forgotPassword__container_p31o9_13",y="_img__container_p31o9_29",v="_post__bg_p31o9_43",k="_forgotPassword__heading_p31o9_61",N="_forgotPassword__text_p31o9_73",S="_forgotPassword__form_p31o9_87",E="_link_p31o9_97",R={"btn--back":"_btn--back_p31o9_1",forgotPassword__container:j,img__container:y,post__bg:v,forgotPassword__heading:k,forgotPassword__text:N,forgotPassword__form:S,link:E};function F(){const t=l(),{mutate:r,isPending:a}=w({mutationFn:b,onSuccess:e=>{c.success("Password changed successfully"),t(g(e))},onError:e=>{c.error(e.message)}});return{resetPassword:r,isResettingPassword:a}}function D(){const{resetPasswordToken:t}=u(),{register:r,handleSubmit:a,formState:e,getValues:_}=f(),{resetPassword:m,isResettingPassword:i}=F(),{errors:o}=e,p=n=>{m({...n,resetPasswordToken:t})};return s.jsx("section",{className:"container",children:s.jsxs("div",{children:[s.jsx("button",{className:"btn btn__primary btn--square "+R["btn--back"],children:s.jsx("img",{src:"/images/icons/back.png"})}),s.jsx("div",{children:s.jsxs("div",{className:"flex col j-center a-center g1 text-center",children:[s.jsx("h1",{className:"text-center",children:"Please enter your new password"}),s.jsx("p",{className:"text-center",style:{width:"33ch"},children:"No problem! an email with instructions to reset your password will be send to your email"}),s.jsxs("form",{onSubmit:a(p),children:[s.jsxs("div",{children:[s.jsx("input",{type:"password",className:"inp inp__secondary",placeholder:"Enter your password",...r("password",h.password)}),(o==null?void 0:o.password)&&s.jsx(d,{message:o.password.message})]}),s.jsxs("div",{children:[s.jsx("input",{type:"password",className:"inp inp__secondary",placeholder:"Confirm your password",...r("confirmPassword",{required:"Please confirm your password",validate:n=>n===_("password")||"Passwords do not match"})}),(o==null?void 0:o.confirmPassword)&&s.jsx(d,{message:o.confirmPassword.message})]}),s.jsx(P,{type:"primary",disabled:i,children:i?s.jsx(x,{}):"Save"})]})]})})]})})}export{D as default};
