import{f as m,h as C,u as h,a as y,H as i,T as _,J as f,V as v,j as n,i as x,U as j,B as U,W as M}from"./index-BOkKEmcp.js";const F=async()=>(await m("conversations/my")).data.data.conversations;function N(){const{data:e,isLoading:a}=C({queryFn:F,queryKey:["conversations"]});return{conversations:e,isFetcgingConversations:a}}const O="_user_1o6ho_1",r={user:O};function q(){const e=h(),a=y(),c=i(_),d=i(f),o=i(v),{conversations:t,isFetcgingConversations:u}=N(),l=t==null?void 0:t.map(s=>s.participants[0]._id===d?s.participants[1]:s.participants[0]),p=s=>c.includes(s)?"Online":"Offline",g=s=>{e(s),a(M(s))};return u?n.jsx(x,{}):n.jsx("section",{className:r.messages,children:n.jsx("div",{className:"messages__container",children:l.map(s=>n.jsx(j,{user:s,secondaryCaption:p(s._id),customClass:r.user,children:n.jsxs(U,{type:"primary",variation:"rounded",width:"fit",onClick:()=>g(s._id),children:["Message",o[s._id]>0&&n.jsx("span",{children:o[s._id]})]})},s._id))})})}export{q as default};
